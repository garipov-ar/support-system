# –°–∏—Å—Ç–µ–º–∞ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ü–æ–¥–¥–µ—Ä–∂–∫–∏ (Telegram Bot + Django)

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —É–ø—Ä–∞–≤–ª—è—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —á–µ—Ä–µ–∑ –±–æ—Ç–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –í–µ–±-–ø–∞–Ω–µ–ª—å (–ê–¥–º–∏–Ω–∫–∞)
-   **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –°–æ–∑–¥–∞–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π).
-   **–î–æ–∫—É–º–µ–Ω—Ç—ã**: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –ª—é–±—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤.
-   **–û–ø–∏—Å–∞–Ω–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π –∫ —Ñ–∞–π–ª–∞–º.
-   **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–ª–µ "–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ" —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.

### Telegram –ë–æ—Ç
-   **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: –£–¥–æ–±–Ω–æ–µ –º–µ–Ω—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.
-   **–£–º–Ω–∞—è –≤—ã–¥–∞—á–∞**:
    -   –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (`jpg`, `png` –∏ –¥—Ä.) –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–∞–∫ **—Ñ–æ—Ç–æ**.
    -   –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–∞–∫ **–¥–æ–∫—É–º–µ–Ω—Ç—ã**.
-   **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø–æ–¥–ø–∏—Å–∏ (caption).
-   **UX**: –ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å –ª–∏—Å—Ç–∞—Ç—å –≤–≤–µ—Ä—Ö.
-   **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `httpx`), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
-   **–ü–æ–∏—Å–∫**: –ü–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

-   **Backend**: Python 3.11, Django 5, Django REST Framework.
-   **Database**: PostgreSQL.
-   **Bot**: python-telegram-bot, httpx (Async HTTP Client).
-   **Infra**: Docker, Docker Compose.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
-   Docker –∏ Docker Compose
-   –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

```env
# Django
SECRET_KEY=your_secret_key_here
DEBUG=1
ALLOWED_HOSTS=*

# Database
POSTGRES_DB=support
POSTGRES_USER=support
POSTGRES_PASSWORD=support
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Telegram
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
```

### 3. –ó–∞–ø—É—Å–∫
–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker-compose up -d --build
```

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–æ–±—ã—á–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏)
docker-compose exec web python manage.py migrate

# –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω–∫—É
docker-compose exec web python manage.py createsuperuser
```

–ê–¥–º–∏–Ω–∫–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000/admin/`

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

-   `backend/` - –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Django –ø—Ä–æ–µ–∫—Ç–∞.
    -   `apps/content` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏.
    -   `apps/bot` - –õ–æ–≥–∏–∫–∞ Telegram –±–æ—Ç–∞.
-   `docker-compose.yml` - –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ (db, web, bot).

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

-   **–û–±—â–∏–µ –º–µ–¥–∏–∞-—Ñ–∞–π–ª—ã**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è bind mount (`./backend/media:/app/media`), —á—Ç–æ–±—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –±–æ—Ç –∏–º–µ–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ —Ñ–∞–π–ª–∞–º –Ω–∞ –¥–∏—Å–∫–µ.
-   **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º `PYTHONUNBUFFERED=1` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –±–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ long-polling –ø—Ä–æ—Ü–µ—Å—Å–∞:

```bash
docker-compose up -d --build bot
```